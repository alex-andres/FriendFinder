<!DOCTYPE html>
<html lang='en'>

<head>
    <meta charset='UTF-8'>
    <title>FriendFinder Survey</title>


    <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css' integrity='sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb' crossorigin='anonymous'>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js' integrity='sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh' crossorigin='anonymous'></script>
    <script src='https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js' integrity='sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ' crossorigin='anonymous'></script>
    <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css'>


    <link href='https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css' rel='stylesheet' />
    <script src='https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js'></script>
</head>

<body>

    <div class='container mt-4'>

        <h3>Survey Questions</h3>
        <hr>

        <h4><strong>About You</strong></h4>
        <h5>Name (Required)</h5>
        <input type='text' name='Name' id='userName' class='validator' required>

        <h5>Link to Photo Image (Required)</h5>
        <input type='text' name='Photo' id='photoURL' class='validator' required>

        <hr>

        <h4><strong>Question 1</strong></h4>
        <h5>You enjoy having discipline and structure in your life</h5>
        <select class='response' id='question1'>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 (Strongly Agree)</option>
      	</select>

        <h4><strong>Question 2</strong></h4>
        <h5>When given options of planning or spontaneity you opt for the latter.</h5>
        <select class='response' id='question2'>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 (Strongly Agree)</option>
      	</select>


        <h4><strong>Question 3</strong></h4>
        <h5>You enjoy spending time in outdoor settings more so than urban</h5>
        <select class='response' id='question3'>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 (Strongly Agree)</option>
      	</select>


        <h4><strong>Question 4</strong></h4>
        <h5>You enjoy studying in a busy setting as opposed to a quiet one</h5>
        <select class='response' id='question4'>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 (Strongly Agree)</option>
      	</select>


        <h4><strong>Question 5</strong></h4>
        <h5>You prefer being with people more than being alone.</h5>
        <select class='response' id='question5'>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 (Strongly Agree)</option>
      	</select>


        <h4><strong>Question 6</strong></h4>
        <h5>You are upset when you do not have coffee first thing in the morning</h5>
        <select class='response' id='question6'>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 (Strongly Agree)</option>
      	</select>


        <h4><strong>Question 7</strong></h4>
        <h5>Reality is a subjective experience with no objective truth</h5>
        <select class='response' id='question7'>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 (Strongly Agree)</option>
      	</select>

        <h4><strong>Question 8</strong></h4>
        <h5>You prefer cooking at home more than eating out at a restaurant</h5>
        <select class='response' id='question8'>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 (Strongly Agree)</option>
      	</select>

        <h4><strong>Question 9</strong></h4>
        <h5>You are at peace with your current situation and do not seek to change it</h5>
        <select class='response' id='question9'>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 (Strongly Agree)</option>
      	</select>

        <h4><strong>Question 10</strong></h4>
        <h5>You prefer late nights rather than early mornings</h5>
        <select class='response' id='question10'>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5 (Strongly Agree)</option>
      	</select>
        <br>
        <button type='submit' class='mt-3 btn btn-primary' id='submit'>
        Submit</button>

        <hr>
        <footer class='footer'>
            <div class='container'>
                <p><a href='/api/friends'>API Friends List</a> | <a href='https://github.com/c-andres/friendfinder'>GitHub Repo</a></p>
            </div>
        </footer>

    </div>

    <div id='resultsModal' class='modal fade' role='dialog'>
        <div class='modal-dialog'>

            <div class='modal-content'>
                <div class='modal-header'>
                    <button type='button' class='close' data-dismiss='modal'>&times;</button>
                    <h2 class='modal-title'><strong>Best Match</strong></h2>
                </div>
                <div class='modal-body'>
                    <h2 id='matchName'></h2>
                    <img id='matchImg' src=' alt='>
                </div>
                <div class='modal-footer'>
                    <button type='button' class='btn btn-default' data-dismiss='modal'>Close</button>
                </div>
            </div>

        </div>

</body>

</html>

<script type='text/javascript'>
    $('#submit').on('click', function(e) {
        e.preventDefault();


        let userData = {
            name: $('#userName').val(),
            photoURL: $('#photoURL').val(),
            scores: [$('#question1').val(),
                $('#question2').val(),
                $('#question3').val(),
                $('#question4').val(),
                $('#question5').val(),
                $('#question6').val(),
                $('#question7').val(),
                $('#question8').val(),
                $('#question9').val(),
                $('#question10').val()
            ]
        }
        console.log(userData);
        $.post('/api/friends', userData, function(data) {
            $('#matchName').text(data.name);
            $('#matchImg').attr('src', data.photo);
            $('#resultsModal').modal('toggle');

        });
    });
</script>